webpackJsonp([2],{1e3:function(e,t,r){!function(t){if(t=t(),"undefined"!=typeof e&&e.exports&&(e.exports=t),"undefined"!=typeof window&&window.React)for(var r in t)t.hasOwnProperty(r)&&(window[r]||(window[r]=t[r]))}(function(){"use strict";function e(e,t){var r;return function(){var n=!r;clearTimeout(r),r=setTimeout(function(t){r=null,e.apply(this,t)}.bind(this,arguments),t),n&&e.apply(this,arguments)}}function t(){d&&0===p.length&&window.removeEventListener&&(window.removeEventListener("resize",f,!1),window.removeEventListener("scroll",f,!1),window.removeEventListener("touchend",f,!1),d=!1)}function n(e){return c.inViewport(e.element,e.cushion)?void e.callback():(!d&&0===p.length&&window.addEventListener&&(window.addEventListener("resize",f,!1),window.addEventListener("scroll",f,!1),window.addEventListener("touchend",f,!1),d=!0),void p.push(e))}function o(e){for(var t=0;t<p.length;t++){var r=p[t];r.cushion=e}}function a(e){var r=p.indexOf(e);r>=0&&p.splice(r,1),t()}var i=r(1),l=r(21),s=r(999),c=r(1001),u=["a","abbr","address","article","aside","b","bdi","bdo","big","blockquote","body","button","caption","cite","code","data","dd","del","dfn","dialog","div","dt","em","fieldset","figcaption","footer","form","h1","h2","h3","h4","h5","h6","header","i","ins","kbd","label","legend","li","main","mark","menuitem","nav","ol","output","p","pre","q","s","samp","section","small","span","strong","summary","td","th","time","u","ul","var"],p=[],d=!1,f=e(function(){for(var e=p.length-1;e>=0;e--)c.inViewport(p[e].element,p[e].cushion)&&(p[e].callback(),p.splice(e,1),t())},50),m=i.createClass({displayName:"Lazy",propTypes:{children:i.PropTypes.oneOfType([i.PropTypes.arrayOf(i.PropTypes.node),i.PropTypes.node]),cushion:i.PropTypes.number,nodeName:i.PropTypes.oneOf(u),onLoad:i.PropTypes.func},getDefaultProps:function(){return{cushion:0,nodeName:"div"}},getInitialState:function(){return{}},componentDidMount:function(){this.options={callback:this.handleLoad,cushion:this.props.cushion,element:l.findDOMNode(this)},n(this.options)},componentDidUpdate:function(){o(this.props.cushion)},componentWillUnmount:function(){a(this.options)},handleLoad:function(){this.props.onLoad&&this.props.onLoad(),this.setState({loadedAt:Date.now()})},render:function(){var e={};for(var t in this.props)this.props.hasOwnProperty(t)&&!m.propTypes.hasOwnProperty(t)&&(e[t]=this.props[t]);return this.state.loadedAt?i.createElement(this.props.nodeName,e,this.props.children):(e.dangerouslySetInnerHTML={__html:s.renderToStaticMarkup(i.DOM.noscript({},this.props.children)).replace("<noscript>","<!--[if IE 9]><!--><noscript><!--<![endif]-->").replace("</noscript>","<!--[if IE 9]><!--></noscript><!--<![endif]-->")},i.createElement(this.props.nodeName,e))}});return{checkElementsInViewport:f,Lazy:m,verge:c}})},1001:function(e,t){/*!
 * verge 1.9.1+201402130803
 * https://github.com/ryanve/verge
 * MIT License 2013 Ryan Van Etten
 */
!function(t,r,n){"undefined"!=typeof e&&e.exports?e.exports=n():t[r]=n()}(this,"verge",function(){function e(){return{width:u(),height:p()}}function t(e,t){var r={};return t=+t||0,r.width=(r.right=e.right+t)-(r.left=e.left-t),r.height=(r.bottom=e.bottom+t)-(r.top=e.top-t),r}function r(e,r){return e=e&&!e.nodeType?e[0]:e,!(!e||1!==e.nodeType)&&t(e.getBoundingClientRect(),r)}function n(t){t=null==t?e():1===t.nodeType?r(t):t;var n=t.height,o=t.width;return n="function"==typeof n?n.call(t):n,o="function"==typeof o?o.call(t):o,o/n}var o={},a="undefined"!=typeof window&&window,i="undefined"!=typeof document&&document,l=i&&i.documentElement,s=a.matchMedia||a.msMatchMedia,c=s?function(e){return!!s.call(a,e).matches}:function(){return!1},u=o.viewportW=function(){var e=l.clientWidth,t=a.innerWidth;return e<t?t:e},p=o.viewportH=function(){var e=l.clientHeight,t=a.innerHeight;return e<t?t:e};return o.mq=c,o.matchMedia=s?function(){return s.apply(a,arguments)}:function(){return{}},o.viewport=e,o.scrollX=function(){return a.pageXOffset||l.scrollLeft},o.scrollY=function(){return a.pageYOffset||l.scrollTop},o.rectangle=r,o.aspect=n,o.inX=function(e,t){var n=r(e,t);return!!n&&n.right>=0&&n.left<=u()},o.inY=function(e,t){var n=r(e,t);return!!n&&n.bottom>=0&&n.top<=p()},o.inViewport=function(e,t){var n=r(e,t);return!!n&&n.bottom>=0&&n.right>=0&&n.top<=p()&&n.left<=u()},o})},404:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){return{authors:e.authors}}function a(e){return{mainentity:e.mainentity,loading:e.loading}}Object.defineProperty(t,"__esModule",{value:!0}),t.AuthorPrimaryView=t.AuthorList=void 0;var i=r(119),l=r(402),s=n(l),c=r(118),u=r(987);t.AuthorList=(0,i.connect)(o)((0,s.default)(u.AuthorList,{fetcher:"fetchAuthors",success:c.actionTypes.AUTHORS_FETCHED})),t.AuthorPrimaryView=(0,i.connect)(a)((0,s.default)(u.AuthorPrimaryView,{fetcher:"fetchAuthor",success:c.actionTypes.AUTHOR_FETCHED}))},985:function(e,t,r){"use strict";function n(e){return o[e]||"#ccc"}Object.defineProperty(t,"__esModule",{value:!0}),t.genreColor=n;var o=(t.STYLES={titleChart:{backgroundColor:"#009687",color:"white",fontVariant:"small-caps",fontSize:"35px",fontWeight:"bold",justifyContent:"center"}},t.GENRE_COLORS={"comédie":"#ff7f0e","tragédie":"#1f77b4","comedie-ballet":"#ffbb78",drame:"#17becf",autre:"#e377c2",null:"#f7b6d2"})},987:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){function t(e,t){return(0,m.createElement)(_.Link,{to:"/play/"+t.play_id},e)}var r=e.authorData;return(0,m.createElement)(v.Card,{className:(0,C.mdlclass)({col:9,tablet:12})},(0,m.createElement)(v.CardTitle,{style:T.STYLES.titleChart},"œuvres"),(0,m.createElement)(v.CardText,{style:{margin:"0 auto",fontSize:"1em"}},(0,m.createElement)(g.BootstrapTable,{data:r.playsOverview,hover:!0},(0,m.createElement)(g.TableHeaderColumn,{dataField:"title",isKey:!0,dataSort:!0,dataFormat:t},"Titre"),(0,m.createElement)(g.TableHeaderColumn,{dataField:"receipts",dataSort:!0,dataFormat:C.numberWithSpaces},"Recettes (livres)"),(0,m.createElement)(g.TableHeaderColumn,{dataField:"nb_perf",dataSort:!0,width:"140px"},"Représentations"),(0,m.createElement)(g.TableHeaderColumn,{dataField:"date_de_premiere",dataSort:!0,dataFormat:w.dateFormatter},"Date de la Première"),(0,m.createElement)(g.TableHeaderColumn,{dataField:"total_1",dataSort:!0,width:"120px"},"Jouée en 1"),(0,m.createElement)(g.TableHeaderColumn,{dataField:"total_2",dataSort:!0,width:"120px"},"Jouée en 2"),(0,m.createElement)(g.TableHeaderColumn,{dataField:"genre",dataSort:!0},"Genre"))))}function c(e){var t=e.authorData,r=t.genres.map(function(e){return{label:e.genre,count:e.nbplayed,object:e}});return(0,m.createElement)(v.Card,{className:(0,C.mdlclass)({col:3,tablet:12})},(0,m.createElement)(v.CardTitle,{style:T.STYLES.titleChart},"statistiques"),(0,m.createElement)(v.CardText,null,(0,m.createElement)(O.Pie,{stats:r,id:"piegenre",title:"Répartition des pièces jouées par genre",seriename:"Nombre de représentations",colorfunc:T.genreColor,urlformatter:function(e){return h.browserHistory.push((0,_.buildURL)("/genre/"+e.point.object.genre))}})),d({authorData:t}))}function u(e){var t=e.authorData,r=0,n=0;t.receipts.map(function(e){return r+=e.receipts}),t.playsOverview.map(function(e){return n+=e.nb_perf});var o=[{valueClass:"scopenote",value:t.bnf_notes},{label:"Œuvres",value:t.playsOverview.length},{label:"Représentations",value:n},{label:"Recettes",value:(0,C.numberWithSpaces)(r)+" livres"}];return t.ext_uris&&t.ext_uris[0]&&o.push({value:(0,m.createElement)("a",{href:t.ext_uris[0],style:{color:"#757575"}},"Voir cet auteur sur data.bnf.fr")}),(0,m.createElement)("section",{className:"section--center mdl-grid",style:{justifyContent:"center"}},(0,m.createElement)(v.Card,{className:(0,C.mdlclass)({col:3,tablet:6})},(0,m.createElement)("img",{src:t.depict_urls[0]||(0,_.buildURL)("/images/default-picto-author.png"),style:{maxHeight:"200px",margin:"auto"}}),(0,m.createElement)("p",{style:{textAlign:"center"}},(t.birthdate||"?")+" - "+(t.deathdate||"?"))),(0,m.createElement)(v.Card,{className:(0,C.mdlclass)({col:3,tablet:6,phone:4})},(0,m.createElement)(v.CardTitle,null,t.name),(0,w.infoprops)(o)))}function p(e){var t=e.authorData,r=t.depict_urls.length&&t.depict_urls[0]||t.lagrangeImages.length;if(!r)return(0,m.createElement)("div");var n=t.lagrangeImages.map(function(e){return{imgurl:e.imgurl,targeturl:e.url,imgtitle:e.title+" ("+e.subtitle+")"}});return t.depict_urls.forEach(function(e){var t=e,r=void 0,o=void 0;t.indexOf("wiki")!==-1?(r="Illustration provenant de wikimedia",o=t):t.indexOf("ark:/")!==-1&&(r="Illustration provenant de Gallica",o=t.slice(0,-10)),n.push({imgurl:t,imgtitle:r,targeturl:o})}),(0,m.createElement)(v.Card,{className:(0,b.default)("mdl-shadow--2dp",(0,C.mdlclass)(12))},(0,m.createElement)(v.CardTitle,{style:T.STYLES.titleChart},"Images"),m.createElement.apply(void 0,[v.CardText,{className:"mdl-grid",style:{margin:"auto"}}].concat(o(n.map(function(e){return(0,m.createElement)("div",{className:(0,C.mdlclass)({col:2,tablet:4,phone:2}),style:{justifyContent:"center",padding:"5px"}},(0,m.createElement)(E.Lazy,{nodeName:"a",href:e.targeturl,title:e.imgtitle,className:"image-link image-link--200px"},(0,m.createElement)("img",{alt:e.imgtitle,src:e.imgurl,style:{maxHeight:"200px",maxWidth:"200px"}})))})))))}function d(e){var t=e.authorData,r=t.coplayed.map(function(e){return{label:e.author_name,count:e.count,object:e}}).sort(function(e,t){return t.count-e.count}).slice(0,10);return(0,m.createElement)(O.Pie,{stats:r,id:"coplayedpie",title:"Les 10 auteurs les plus joués la même soirée",seriename:"auteurs",urlformatter:function(e){return h.browserHistory.push((0,_.buildURL)("/author/"+e.point.object.author_id))}})}Object.defineProperty(t,"__esModule",{value:!0}),t.AuthorPrimaryView=t.AuthorList=void 0;var f=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),m=r(1),h=r(250),y=r(3),b=n(y),v=r(80),g=r(249),E=r(1e3),w=r(402),T=r(985),_=r(101),C=r(248),x=r(990),O=r(992),P=t.AuthorList=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),f(t,[{key:"render",value:function(){var e=this.props.authors||[];return(0,m.createElement)("div",{className:"mdl-grid"},e.map(function(e){return(0,m.createElement)("div",{className:(0,C.mdlclass)(3),key:e.id,style:{marginTop:"15px"}},(0,m.createElement)(_.Link,{to:"/author/"+e.id,style:{textDecoration:"none",display:"inline-block"}},(0,m.createElement)(v.Card,{shadow:2,style:{background:"#fff"}},(0,m.createElement)(v.CardTitle,{expand:!0,style:{background:e.depict_urls[0]?'url("'+e.depict_urls[0]+'") no-repeat center top':"url("+(0,_.buildURL)("/images/default-picto-author.png")+") no-repeat center top",minHeight:"250px",borderTop:"3px solid #009688"}}),(0,m.createElement)(v.CardText,{style:{background:"#009688",width:"100%",padding:0}},(0,m.createElement)("h2",{style:{padding:"5px 10px 5px 10px",margin:"5px",lineHeight:"35px",fontSize:"20px",textAlign:"center",color:"#fff"}},e.name)))))}))}}]),t}(m.Component);P.propTypes={authors:m.PropTypes.array};var S=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),f(t,[{key:"render",value:function(){var e=this;return(0,m.createElement)(x.HighchartsComparator,{urlformatter:function(t){return(0,_.buildURL)("/aseason/"+e.props.authorData.id+"/"+t.point.name)},seriedef:{name:this.props.authorData.name,data:this.props.authorData.receipts},plotTitle:"saisons théâtrales"})}}]),t}(m.Component);S.propTypes={authorData:m.PropTypes.object};var j=t.AuthorPrimaryView=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),f(t,[{key:"render",value:function(){return this.props.loading?(0,m.createElement)(v.Spinner,{style:{margin:"auto",display:"block"}}):(0,m.createElement)("div",{id:"overview"},(0,m.createElement)(u,{authorData:this.props.mainentity}),(0,m.createElement)("section",{className:"section--center mdl-grid"},(0,m.createElement)(c,{authorData:this.props.mainentity}),(0,m.createElement)(s,{authorData:this.props.mainentity})),(0,m.createElement)("section",{className:"section--center"},(0,m.createElement)(S,{authorData:this.props.mainentity})),(0,m.createElement)(p,{authorData:this.props.mainentity}))}}]),t}(m.Component);j.propTypes={loading:m.PropTypes.bool,mainentity:m.PropTypes.object}},990:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.HighchartsComparator=void 0;var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(1),c=r(250),u=r(80),p=r(986),d=n(p),f=r(248),m=r(985),h=r(101),y=r(403),b=n(y),v=t.HighchartsComparator=function(e){function t(e){o(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.chart=null,r.addSerie=r.addSerie.bind(r),r}return i(t,e),l(t,[{key:"addSerie",value:function(e){var t=this;fetch((0,h.buildURL)("/author/seriedef-"+e.id+".json")).then(function(e){return e.json()}).then(function(e){return t.chart.addSeries(e)})}},{key:"componentDidMount",value:function(){var e=this.props,t=e.urlformatter,r=e.seriedef;this.chart=new d.default.Chart({chart:{renderTo:"seasonchart",type:"column",zoomType:"x"},title:{text:" "},xAxis:{type:"category",labels:{rotation:-45}},yAxis:{title:{text:"Recettes (livres)"}},plotOptions:{series:{cursor:"pointer",point:{events:{click:function(e){c.browserHistory.push(t(e))}}}}},series:[{name:r.name,data:r.data.map(function(e){return[e.season,e.receipts]})}]})}},{key:"render",value:function(){return(0,s.createElement)(u.Card,{className:(0,f.mdlclass)(12)},(0,s.createElement)(u.CardTitle,{style:m.STYLES.titleChart},this.props.plotTitle),(0,s.createElement)("div",{id:"comparator-autocomplete",className:"mdl-cell mdl-cell--4-col mdl-cell--8-offset"},(0,s.createElement)(b.default,{title:"Entrez un auteur pour comparer les recettes",onItemClick:this.addSerie,onItemSelect:this.addSerie,itemfetcher:y.authorsearch})),(0,s.createElement)(u.CardText,{style:{margin:"auto"}},(0,s.createElement)("div",{id:"seasonchart"})))}}]),t}(s.Component);v.propTypes={urlformatter:s.PropTypes.func,seriedef:s.PropTypes.object,plotTitle:s.PropTypes.string}},992:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Pie=void 0;var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(1),c=r(986),u=n(c),p=t.Pie=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.stats,r=e.id,n=e.colorfunc,o=e.title,a=e.seriename,i=e.urlformatter,l=t.map(function(e){return{y:Number(e.count),color:n?n(e.label):null,object:e.object,name:e.label}});new u.default.Chart({chart:{renderTo:r,type:"pie"},title:{text:o},yAxis:{title:{text:" "}},series:[{name:a,data:l}],plotOptions:{series:{cursor:"pointer",point:{events:{click:function(e){i&&i(e)}}}}}})}},{key:"render",value:function(){return(0,s.createElement)("div",{id:this.props.id})}}]),t}(s.Component);p.propTypes={id:s.PropTypes.string,stats:s.PropTypes.array,title:s.PropTypes.string,seriename:s.PropTypes.string,colorfunc:s.PropTypes.func,urlformatter:s.PropTypes.func}},996:function(e,t,r){"use strict";var n=r(408),o=r(998),a=r(411);n.inject();var i={renderToString:o.renderToString,renderToStaticMarkup:o.renderToStaticMarkup,version:a};e.exports=i},997:function(e,t,r){"use strict";var n={isBatchingUpdates:!1,batchedUpdates:function(e){}};e.exports=n},998:function(e,t,r){"use strict";function n(e,t){var r;try{return m.injection.injectBatchingStrategy(d),r=f.getPooled(t),b++,r.perform(function(){var n=y(e,!0),o=p.mountComponent(n,r,null,s(),h,0);return t||(o=u.addChecksumToMarkup(o)),o},null)}finally{b--,f.release(r),b||m.injection.injectBatchingStrategy(c)}}function o(e){return l.isValidElement(e)?void 0:i("46"),n(e,!1)}function a(e){return l.isValidElement(e)?void 0:i("47"),n(e,!0)}var i=r(10),l=r(82),s=r(406),c=r(407),u=(r(34),r(409)),p=r(81),d=r(997),f=r(410),m=r(40),h=r(39),y=r(253),b=(r(2),0);e.exports={renderToString:o,renderToStaticMarkup:a}},999:function(e,t,r){"use strict";e.exports=r(996)}});